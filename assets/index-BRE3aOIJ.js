(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();const tt={major:{matrix:[[0,0,0,0,1,0],[0,0,2,0,0,0],[0,3,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0}},minor:{matrix:[[0,0,1,0,2,0],[0,0,0,0,0,0],[0,4,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0}},dom7:{matrix:[[0,0,0,0,1,0],[0,0,2,0,0,0],[0,3,0,4,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0}},min7:{matrix:[[0,0,1,0,1,0],[0,0,0,0,0,0],[0,3,0,4,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0}},maj7:{matrix:[[0,0,0,0,0,0],[0,0,2,0,0,0],[0,3,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0}},power5:{matrix:[[0,0,0,0,1,0],[0,0,0,0,0,0],[0,3,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0,4:!0,1:!0}}},et={major:{matrix:[[0,0,0,1,0,0],[0,2,3,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{}},minor:{matrix:[[0,0,0,0,0,0],[0,1,2,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{}},dom7:{matrix:[[0,0,0,1,0,0],[0,2,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{}},min7:{matrix:[[0,0,0,0,0,0],[0,1,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{}},maj7:{matrix:[[1,0,0,0,2,0],[0,0,3,4,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{5:!0}},power5:{matrix:[[1,0,0,0,0,0],[0,0,0,0,0,0],[0,3,4,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{}}},it={major:{matrix:[[0,0,0,0,0,0],[0,0,0,1,0,2],[0,0,0,0,3,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0,5:!0}},minor:{matrix:[[0,0,0,0,0,1],[0,0,0,2,0,0],[0,0,0,0,3,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0,5:!0}},dom7:{matrix:[[0,0,0,0,1,0],[0,0,0,2,0,3],[0,0,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0,5:!0}},min7:{matrix:[[0,0,0,0,1,1],[0,0,0,2,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0,5:!0}},maj7:{matrix:[[0,0,0,0,0,0],[0,0,0,1,1,1],[0,0,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0,5:!0}},power5:{matrix:[[0,0,1,0,0,0],[0,0,0,0,0,0],[0,0,0,3,0,0],[0,0,0,0,4,0]],notesOutsideOfChords:{6:!0,5:!0,1:!0}}},rt={major:{matrix:[[0,0,0,0,0,0],[0,0,1,2,3,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0}},minor:{matrix:[[0,0,0,0,1,0],[0,0,2,3,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0}},dom7:{matrix:[[0,0,0,0,0,0],[0,0,1,0,3,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0}},min7:{matrix:[[0,0,0,0,1,0],[0,0,2,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0}},maj7:{matrix:[[0,0,0,1,0,0],[0,0,2,0,3,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0}},power5:{matrix:[[0,1,0,0,0,0],[0,0,0,0,0,0],[0,0,3,3,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0}}},st={major:{matrix:[[0,0,0,0,0,0],[0,2,0,0,0,0],[3,0,0,0,0,4],[0,0,0,0,0,0]],notesOutsideOfChords:{}},minor:{matrix:[[0,1,0,0,0,0],[0,0,0,0,0,0],[3,0,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{2:!0,1:!0}},dom7:{matrix:[[0,0,0,0,0,1],[0,2,0,0,0,0],[3,0,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{}},min7:{matrix:[[0,1,0,0,0,0],[0,0,0,0,0,0],[3,0,4,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{2:!0,1:!0}},maj7:{matrix:[[0,0,0,0,0,0],[0,0,0,0,0,1],[3,0,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{}},power5:{matrix:[[0,0,0,1,0,0],[0,0,0,0,0,0],[0,0,0,0,4,4],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0,5:!0,4:!0}}},nt={C:tt,A:rt,G:st,E:et,D:it},D=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],ot={C:"C",A:"A",G:"G",E:"E",D:"D"};function at(i,t){switch(t){case"major":return i;case"minor":return`${i}m`;case"dom7":return`${i}7`;case"min7":return`${i}m7`;case"maj7":return`${i}maj7`;case"power5":return`${i}5`}}function $(i,t,e){const r=nt[i][t],s=ot[i],h=(D.indexOf(s)+e+D.length*10)%D.length,d=D[h],u=at(d,t);if(e===0)return{name:u,form:i,type:t,matrix:r.matrix,barre:!1,startFrets:0,notesOutsideOfChords:r.notesOutsideOfChords};const l=[];e>0&&l.push([e,e,e,e,e,e]);for(let c=0;c<3;c++){const C=r.matrix[c].map(n=>n===0?0:n+e);l.push(C)}return{name:u,form:i,type:t,matrix:l,barre:e>0,startFrets:e,notesOutsideOfChords:r.notesOutsideOfChords}}var X=i=>{throw TypeError(i)},_=(i,t,e)=>t.has(i)||X("Cannot "+e),a=(i,t,e)=>(_(i,t,"read from private field"),e?e.call(i):t.get(i)),M=(i,t,e)=>t.has(i)?X("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e),E=(i,t,e,r)=>(_(i,t,"write to private field"),t.set(i,e),e),p=(i,t,e)=>(_(i,t,"access private method"),e);const ht={autoRender:!0,defaultColor:"#000",defaultLineWidth:4,transpose:0,fontFamily:"Arial",name:"",nameFontSize:60,spacing:20,fretsSpacing:50,stringSpacing:30,fingerRadius:15,showFingerNumber:!0,fingerNumberTextColor:"#fff",startFrets:0,matrix:[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],mergeFingerCircle:!1,showNotesOutsideOfChords:!1,devicePixelRatio:window.devicePixelRatio||1};var F,W,y,f,G,x,B,q,H,J,K,U,V,Q,A;class dt{constructor(t){M(this,x),M(this,F),M(this,W),M(this,y),M(this,f),M(this,G,"0.0.10"),E(this,F,{...ht,...t});const{devicePixelRatio:e,autoRender:r}=a(this,F);E(this,W,document.createElement("canvas")),E(this,y,a(this,W).getContext("2d")),E(this,f,e),r&&p(this,x,B).call(this)}get element(){return a(this,W)}get width(){const{stringCount:t,stringSpacing:e,stringLineWidth:r}=this.data;return(e*(t+1)+r*t)*a(this,f)}get height(){const{nutLineWidth:t,fretsLineWidth:e,fretsSpacing:r,matrix:s,spacing:o,nameFontSize:h}=this.data;return(r*s.length+t+e*s.length+h+o)*a(this,f)}get gridRect(){const{stringLineWidth:t,stringSpacing:e,nutLineWidth:r,fretsSpacing:s,fretsLineWidth:o,stringCount:h,matrix:d,spacing:u,nameFontSize:l}=this.data;return{width:(e*(h-1)+t*h)*a(this,f),height:(s*d.length+r+o*d.length)*a(this,f),left:e*a(this,f),top:(l+u)*a(this,f),right:(this.width-e)*a(this,f),bottom:this.height*a(this,f)}}get version(){return a(this,G)}get data(){const{defaultColor:t,defaultLineWidth:e,fingerRadius:r,matrix:s}=a(this,F),{nameTextColor:o=t,nutLineWidth:h=e,nutColor:d=t,fretsColor:u=t,fretsLineWidth:l=e,stringColor:c=t,stringLineWidth:m=e,fingerCircleColor:C=t,startFretsTextColor:n=t,transposeTextColor:S=o,showNotesOutsideOfChords:R,notesOutsideOfChords:g={},crossLineWidth:O=Math.min(m,l),crossLineColor:L=t,crossRadius:T=r*.75,nameLetterSpacing:v=0}=a(this,F);return{...a(this,F),nameTextColor:o,nutLineWidth:h,nutColor:d,fretsColor:u,fretsLineWidth:l,stringColor:c,stringLineWidth:m,fingerCircleColor:C,startFretsTextColor:n,transposeTextColor:S,notesOutsideOfChords:g,showNotesOutsideOfChords:R||Object.keys(g).length>0,crossLineWidth:O,crossLineColor:L,crossRadius:T,nameLetterSpacing:v,stringCount:s[0].length??6}}render(t){return t&&E(this,F,{...a(this,F),...t}),p(this,x,B).call(this),this}}F=new WeakMap,W=new WeakMap,y=new WeakMap,f=new WeakMap,G=new WeakMap,x=new WeakSet,B=function(){const i=this.data,{width:t,height:e}=this;return a(this,W).width=t,a(this,W).height=e,a(this,W).style.width=`${t/a(this,f)}px`,a(this,W).style.height=`${e/a(this,f)}px`,a(this,y).scale(a(this,f),a(this,f)),a(this,y).clearRect(0,0,t,e),p(this,x,K).call(this,i),p(this,x,J).call(this,i),p(this,x,H).call(this,i),p(this,x,q).call(this,i),i.showNotesOutsideOfChords&&p(this,x,U).call(this,i),this},q=function(i){const{name:t,nameTextColor:e,nameFontSize:r,transpose:s,transposeTextColor:o,fontFamily:h,nameLetterSpacing:d}=i,{width:u}=this.gridRect,l=u/a(this,f),c=a(this,y);c.fillStyle=e,c.font=`${r}px ${h}`,c.textAlign="center",c.textBaseline="middle",c.letterSpacing=`${d}px`,c.fillText(t,this.width/(2*a(this,f)),r/2,l);const m=c.measureText(t);if(c.letterSpacing="0px",s!==0){const C=r/2;c.font=`${C}px ${h}`,c.fillStyle=o,c.textAlign="right",c.fillText(s===1?"♯":"♭",this.width/(2*a(this,f))-Math.min(m.width/2,l/2),C/2)}},H=function(i){const{stringSpacing:t,fretsSpacing:e,stringLineWidth:r,fretsLineWidth:s,fingerRadius:o,matrix:h,nutLineWidth:d,fingerNumberTextColor:u,fingerCircleColor:l,fontFamily:c,showFingerNumber:m,mergeFingerCircle:C}=i,n=a(this,y);n.fillStyle=l;const S=o*1.5,{top:R}=this.gridRect,g=new Map;let O=0;for(let L=0;L<h.length;L++)for(let T=0;T<h[L].length;T++)if(O=h[L][T],O>0){const v=T*(t+r)+r/2+t,I=R/a(this,f)+d+(e+s)*L+e/2;if(n.fillStyle=l,n.beginPath(),n.arc(v,I,o,0,Math.PI*2),n.fill(),C){g.has(O)||g.set(O,[]);const N=g.get(O);N.push({x:v,y:I}),N.length>1&&T===h[L].lastIndexOf(O)&&(n.beginPath(),n.moveTo(N[0].x,N[0].y),n.lineTo(v,I),n.strokeStyle=l,n.lineWidth=o*2,n.stroke())}if(!m||C&&T!==h[L].lastIndexOf(O))continue;n.fillStyle=u,n.font=`${S}px ${c}`,n.textAlign="center",n.textBaseline="middle";const z=String(O),{actualBoundingBoxAscent:Y,actualBoundingBoxDescent:Z}=n.measureText(z);n.fillText(z,v,I+Math.abs(Y-Z)/2)}},J=function(i){const{nutLineWidth:t,fretsSpacing:e,startFrets:r,nameFontSize:s,startFretsTextColor:o,fontFamily:h}=i;if(r<=1)return;const{top:d}=this.gridRect,u=a(this,y),l=s/2;u.fillStyle=o,u.font=`italic ${l}px ${h}`,u.textAlign="left",u.textBaseline="middle",u.fillText(r.toString(),0,d/a(this,f)+t+e/2)},K=function(i){const{matrix:t,nutLineWidth:e,stringLineWidth:r,fretsLineWidth:s,stringSpacing:o,fretsSpacing:h,nutColor:d,stringColor:u,fretsColor:l,stringCount:c,spacing:m,nameFontSize:C}=i,n=a(this,y),S=C+m,R=t.length;for(let g=0;g<c;g++){const O=g*(o+r)+r/2+o;n.beginPath(),n.moveTo(O,S+Math.abs(e-s)),n.lineTo(O,this.height),n.strokeStyle=u,n.lineWidth=r,n.stroke()}for(let g=0;g<=R;g++){const O=g===0?S+e/2:S+e+g*(h+s)-s/2;n.beginPath(),n.moveTo(o,O),n.lineTo(this.width/a(this,f)-o,O),n.strokeStyle=g===0?d:l,n.lineWidth=g===0?e:s,n.stroke()}},U=function(i){const{stringLineWidth:t,stringSpacing:e,stringCount:r,notesOutsideOfChords:s,devicePixelRatio:o,crossLineColor:h,crossLineWidth:d,crossRadius:u}=i,l=a(this,y),c=this.gridRect.top/o;for(let m=0;m<r;m++){if(!p(this,x,V).call(this,m,i))continue;const C=m*(e+t)+e+t/2;if(s[r-m]){const n=p(this,x,Q).call(this,i),S=n.width/o,R=n.height/o;l.drawImage(n,C-S/2,c-R,S,R)}else l.fillStyle=h,l.beginPath(),l.arc(C,c-u-d/2,u,0,Math.PI*2),l.lineWidth=d,l.strokeStyle=h,l.stroke()}},V=function(i,t){const{matrix:e}=t;for(let r=0;r<e.length;r++)if(e[r][i]>0)return!1;return!0},Q=function(i){const{crossLineColor:t,crossLineWidth:e,crossRadius:r,devicePixelRatio:s}=i,o=r*2*s,h=document.createElement("canvas"),d=h.getContext("2d");h.width=h.height=o,d.beginPath();const u=p(this,x,A).call(this,r,-Math.PI/4,s),l=p(this,x,A).call(this,r,3*Math.PI/4,s);d.moveTo(u.x,u.y),d.lineTo(l.x,l.y);const c=p(this,x,A).call(this,r,Math.PI/4,s),m=p(this,x,A).call(this,r,-3*Math.PI/4,s);return d.moveTo(c.x,c.y),d.lineTo(m.x,m.y),d.strokeStyle=t,d.lineJoin="round",d.lineWidth=e*s,d.stroke(),[u,l,c,m].forEach(({x:C,y:n})=>{d.fillStyle=t,d.beginPath(),d.arc(C,n,e*s/2,0,Math.PI*2),d.fill()}),h},A=function(i,t,e){const r=i*Math.cos(t),s=i*Math.sin(t);return{x:(r+i)*e,y:(s+i)*e}};class lt{currentGuitarChords=null;renderChord(t,e,r=!0){this.currentGuitarChords&&t.removeChild(this.currentGuitarChords.element),this.currentGuitarChords=new dt({name:r?e.name:"",showFingerNumber:!1,mergeFingerCircle:!0,notesOutsideOfChords:e.notesOutsideOfChords,matrix:e.matrix,startFrets:e.startFrets,nameFontSize:40,fretsSpacing:40,fingerRadius:10}),t.appendChild(this.currentGuitarChords.element)}}const j=document.querySelector("#app"),k=new lt;let P="C",b="major",w=$(P,b,0);const ct=document.querySelectorAll('input[name="chord-form"]');ct.forEach(i=>{i.addEventListener("change",()=>{P=i.value,w=$(P,b,0),k.renderChord(j,w)})});const ut=document.querySelectorAll('input[name="chord-type"]');ut.forEach(i=>{i.addEventListener("change",()=>{b=i.value,w=$(P,b,0),k.renderChord(j,w)})});k.renderChord(j,w);const ft=document.querySelector("#transpose-up"),mt=document.querySelector("#transpose-down");ft.addEventListener("click",()=>{const i=w.startFrets+1;w=$(P,b,i),k.renderChord(j,w)});mt.addEventListener("click",()=>{const i=Math.max(0,w.startFrets-1);w=$(P,b,i),k.renderChord(j,w)});
