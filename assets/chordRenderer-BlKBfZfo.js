(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();const U={major:{matrix:[[0,0,0,0,1,0],[0,0,2,0,0,0],[0,3,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0}},minor:{matrix:[[0,0,1,0,2,0],[0,0,0,0,0,0],[0,4,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0}},dom7:{matrix:[[0,0,0,0,1,0],[0,0,2,0,0,0],[0,3,0,4,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0}},min7:{matrix:[[0,0,1,0,1,0],[0,0,0,0,0,0],[0,3,0,4,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0}},maj7:{matrix:[[0,0,0,0,0,0],[0,0,2,0,0,0],[0,3,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0}},power5:{matrix:[[0,0,0,0,1,0],[0,0,0,0,0,0],[0,3,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0,4:!0,1:!0}}},V={major:{matrix:[[0,0,0,1,0,0],[0,2,3,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{}},minor:{matrix:[[0,0,0,0,0,0],[0,1,2,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{}},dom7:{matrix:[[0,0,0,1,0,0],[0,2,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{}},min7:{matrix:[[0,0,0,0,0,0],[0,1,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{}},maj7:{matrix:[[1,0,0,0,2,0],[0,0,3,4,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{5:!0}},power5:{matrix:[[1,0,0,0,0,0],[0,0,0,0,0,0],[0,3,4,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{}}},Q={major:{matrix:[[0,0,0,0,0,0],[0,0,0,1,0,2],[0,0,0,0,3,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0,5:!0}},minor:{matrix:[[0,0,0,0,0,1],[0,0,0,2,0,0],[0,0,0,0,3,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0,5:!0}},dom7:{matrix:[[0,0,0,0,1,0],[0,0,0,2,0,3],[0,0,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0,5:!0}},min7:{matrix:[[0,0,0,0,1,1],[0,0,0,2,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0,5:!0}},maj7:{matrix:[[0,0,0,0,0,0],[0,0,0,1,1,1],[0,0,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0,5:!0}},power5:{matrix:[[0,0,1,0,0,0],[0,0,0,0,0,0],[0,0,0,3,0,0],[0,0,0,0,4,0]],notesOutsideOfChords:{6:!0,5:!0,1:!0}}},X={major:{matrix:[[0,0,0,0,0,0],[0,0,1,2,3,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0}},minor:{matrix:[[0,0,0,0,1,0],[0,0,2,3,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0}},dom7:{matrix:[[0,0,0,0,0,0],[0,0,1,0,3,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0}},min7:{matrix:[[0,0,0,0,1,0],[0,0,2,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0}},maj7:{matrix:[[0,0,0,1,0,0],[0,0,2,0,3,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0}},power5:{matrix:[[0,1,0,0,0,0],[0,0,0,0,0,0],[0,0,3,3,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0}}},Y={major:{matrix:[[0,0,0,0,0,0],[0,2,0,0,0,0],[3,0,0,0,0,4],[0,0,0,0,0,0]],notesOutsideOfChords:{}},minor:{matrix:[[0,1,0,0,0,0],[0,0,0,0,0,0],[3,0,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{2:!0,1:!0}},dom7:{matrix:[[0,0,0,0,0,1],[0,2,0,0,0,0],[3,0,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{}},min7:{matrix:[[0,1,0,0,0,0],[0,0,0,0,0,0],[3,0,4,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{2:!0,1:!0}},maj7:{matrix:[[0,0,0,0,0,0],[0,0,0,0,0,1],[3,0,0,0,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{}},power5:{matrix:[[0,0,0,1,0,0],[0,0,0,0,0,0],[0,0,0,0,4,4],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0,5:!0,4:!0}}},Z={C:U,A:X,G:Y,E:V,D:Q},A=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],tt={C:"C",A:"A",G:"G",E:"E",D:"D"};function et(i,t){switch(t){case"major":return i;case"minor":return`${i}m`;case"dom7":return`${i}7`;case"min7":return`${i}m7`;case"maj7":return`${i}maj7`;case"power5":return`${i}5`}}function st(i,t,e){const r=Z[i][t],s=tt[i],h=(A.indexOf(s)+e+A.length*10)%A.length,d=A[h],u=et(d,t);if(e===0)return{name:u,form:i,type:t,matrix:r.matrix,barre:!1,startFrets:0,notesOutsideOfChords:r.notesOutsideOfChords};const l=[];e>0&&l.push([e,e,e,e,e,e]);for(let c=0;c<3;c++){const C=r.matrix[c].map(n=>n===0?0:n+e);l.push(C)}return{name:u,form:i,type:t,matrix:l,barre:e>0,startFrets:e,notesOutsideOfChords:r.notesOutsideOfChords}}var q=i=>{throw TypeError(i)},I=(i,t,e)=>t.has(i)||q("Cannot "+e),a=(i,t,e)=>(I(i,t,"read from private field"),e?e.call(i):t.get(i)),M=(i,t,e)=>t.has(i)?q("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e),P=(i,t,e,r)=>(I(i,t,"write to private field"),t.set(i,e),e),p=(i,t,e)=>(I(i,t,"access private method"),e);const it={autoRender:!0,defaultColor:"#000",defaultLineWidth:4,transpose:0,fontFamily:"Arial",name:"",nameFontSize:60,spacing:20,fretsSpacing:50,stringSpacing:30,fingerRadius:15,showFingerNumber:!0,fingerNumberTextColor:"#fff",startFrets:0,matrix:[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],mergeFingerCircle:!1,showNotesOutsideOfChords:!1,devicePixelRatio:window.devicePixelRatio||1};var L,W,S,f,j,x,E,k,G,D,_,B,z,H,v;class rt{constructor(t){M(this,x),M(this,L),M(this,W),M(this,S),M(this,f),M(this,j,"0.0.10"),P(this,L,{...it,...t});const{devicePixelRatio:e,autoRender:r}=a(this,L);P(this,W,document.createElement("canvas")),P(this,S,a(this,W).getContext("2d")),P(this,f,e),r&&p(this,x,E).call(this)}get element(){return a(this,W)}get width(){const{stringCount:t,stringSpacing:e,stringLineWidth:r}=this.data;return(e*(t+1)+r*t)*a(this,f)}get height(){const{nutLineWidth:t,fretsLineWidth:e,fretsSpacing:r,matrix:s,spacing:o,nameFontSize:h}=this.data;return(r*s.length+t+e*s.length+h+o)*a(this,f)}get gridRect(){const{stringLineWidth:t,stringSpacing:e,nutLineWidth:r,fretsSpacing:s,fretsLineWidth:o,stringCount:h,matrix:d,spacing:u,nameFontSize:l}=this.data;return{width:(e*(h-1)+t*h)*a(this,f),height:(s*d.length+r+o*d.length)*a(this,f),left:e*a(this,f),top:(l+u)*a(this,f),right:(this.width-e)*a(this,f),bottom:this.height*a(this,f)}}get version(){return a(this,j)}get data(){const{defaultColor:t,defaultLineWidth:e,fingerRadius:r,matrix:s}=a(this,L),{nameTextColor:o=t,nutLineWidth:h=e,nutColor:d=t,fretsColor:u=t,fretsLineWidth:l=e,stringColor:c=t,stringLineWidth:m=e,fingerCircleColor:C=t,startFretsTextColor:n=t,transposeTextColor:w=o,showNotesOutsideOfChords:F,notesOutsideOfChords:g={},crossLineWidth:O=Math.min(m,l),crossLineColor:y=t,crossRadius:R=r*.75,nameLetterSpacing:T=0}=a(this,L);return{...a(this,L),nameTextColor:o,nutLineWidth:h,nutColor:d,fretsColor:u,fretsLineWidth:l,stringColor:c,stringLineWidth:m,fingerCircleColor:C,startFretsTextColor:n,transposeTextColor:w,notesOutsideOfChords:g,showNotesOutsideOfChords:F||Object.keys(g).length>0,crossLineWidth:O,crossLineColor:y,crossRadius:R,nameLetterSpacing:T,stringCount:s[0].length??6}}render(t){return t&&P(this,L,{...a(this,L),...t}),p(this,x,E).call(this),this}}L=new WeakMap,W=new WeakMap,S=new WeakMap,f=new WeakMap,j=new WeakMap,x=new WeakSet,E=function(){const i=this.data,{width:t,height:e}=this;return a(this,W).width=t,a(this,W).height=e,a(this,W).style.width=`${t/a(this,f)}px`,a(this,W).style.height=`${e/a(this,f)}px`,a(this,S).scale(a(this,f),a(this,f)),a(this,S).clearRect(0,0,t,e),p(this,x,_).call(this,i),p(this,x,D).call(this,i),p(this,x,G).call(this,i),p(this,x,k).call(this,i),i.showNotesOutsideOfChords&&p(this,x,B).call(this,i),this},k=function(i){const{name:t,nameTextColor:e,nameFontSize:r,transpose:s,transposeTextColor:o,fontFamily:h,nameLetterSpacing:d}=i,{width:u}=this.gridRect,l=u/a(this,f),c=a(this,S);c.fillStyle=e,c.font=`${r}px ${h}`,c.textAlign="center",c.textBaseline="middle",c.letterSpacing=`${d}px`,c.fillText(t,this.width/(2*a(this,f)),r/2,l);const m=c.measureText(t);if(c.letterSpacing="0px",s!==0){const C=r/2;c.font=`${C}px ${h}`,c.fillStyle=o,c.textAlign="right",c.fillText(s===1?"♯":"♭",this.width/(2*a(this,f))-Math.min(m.width/2,l/2),C/2)}},G=function(i){const{stringSpacing:t,fretsSpacing:e,stringLineWidth:r,fretsLineWidth:s,fingerRadius:o,matrix:h,nutLineWidth:d,fingerNumberTextColor:u,fingerCircleColor:l,fontFamily:c,showFingerNumber:m,mergeFingerCircle:C}=i,n=a(this,S);n.fillStyle=l;const w=o*1.5,{top:F}=this.gridRect,g=new Map;let O=0;for(let y=0;y<h.length;y++)for(let R=0;R<h[y].length;R++)if(O=h[y][R],O>0){const T=R*(t+r)+r/2+t,b=F/a(this,f)+d+(e+s)*y+e/2;if(n.fillStyle=l,n.beginPath(),n.arc(T,b,o,0,Math.PI*2),n.fill(),C){g.has(O)||g.set(O,[]);const $=g.get(O);$.push({x:T,y:b}),$.length>1&&R===h[y].lastIndexOf(O)&&(n.beginPath(),n.moveTo($[0].x,$[0].y),n.lineTo(T,b),n.strokeStyle=l,n.lineWidth=o*2,n.stroke())}if(!m||C&&R!==h[y].lastIndexOf(O))continue;n.fillStyle=u,n.font=`${w}px ${c}`,n.textAlign="center",n.textBaseline="middle";const N=String(O),{actualBoundingBoxAscent:J,actualBoundingBoxDescent:K}=n.measureText(N);n.fillText(N,T,b+Math.abs(J-K)/2)}},D=function(i){const{nutLineWidth:t,fretsSpacing:e,startFrets:r,nameFontSize:s,startFretsTextColor:o,fontFamily:h}=i;if(r<=1)return;const{top:d}=this.gridRect,u=a(this,S),l=s/2;u.fillStyle=o,u.font=`italic ${l}px ${h}`,u.textAlign="left",u.textBaseline="middle",u.fillText(r.toString(),0,d/a(this,f)+t+e/2)},_=function(i){const{matrix:t,nutLineWidth:e,stringLineWidth:r,fretsLineWidth:s,stringSpacing:o,fretsSpacing:h,nutColor:d,stringColor:u,fretsColor:l,stringCount:c,spacing:m,nameFontSize:C}=i,n=a(this,S),w=C+m,F=t.length;for(let g=0;g<c;g++){const O=g*(o+r)+r/2+o;n.beginPath(),n.moveTo(O,w+Math.abs(e-s)),n.lineTo(O,this.height),n.strokeStyle=u,n.lineWidth=r,n.stroke()}for(let g=0;g<=F;g++){const O=g===0?w+e/2:w+e+g*(h+s)-s/2;n.beginPath(),n.moveTo(o,O),n.lineTo(this.width/a(this,f)-o,O),n.strokeStyle=g===0?d:l,n.lineWidth=g===0?e:s,n.stroke()}},B=function(i){const{stringLineWidth:t,stringSpacing:e,stringCount:r,notesOutsideOfChords:s,devicePixelRatio:o,crossLineColor:h,crossLineWidth:d,crossRadius:u}=i,l=a(this,S),c=this.gridRect.top/o;for(let m=0;m<r;m++){if(!p(this,x,z).call(this,m,i))continue;const C=m*(e+t)+e+t/2;if(s[r-m]){const n=p(this,x,H).call(this,i),w=n.width/o,F=n.height/o;l.drawImage(n,C-w/2,c-F,w,F)}else l.fillStyle=h,l.beginPath(),l.arc(C,c-u-d/2,u,0,Math.PI*2),l.lineWidth=d,l.strokeStyle=h,l.stroke()}},z=function(i,t){const{matrix:e}=t;for(let r=0;r<e.length;r++)if(e[r][i]>0)return!1;return!0},H=function(i){const{crossLineColor:t,crossLineWidth:e,crossRadius:r,devicePixelRatio:s}=i,o=r*2*s,h=document.createElement("canvas"),d=h.getContext("2d");h.width=h.height=o,d.beginPath();const u=p(this,x,v).call(this,r,-Math.PI/4,s),l=p(this,x,v).call(this,r,3*Math.PI/4,s);d.moveTo(u.x,u.y),d.lineTo(l.x,l.y);const c=p(this,x,v).call(this,r,Math.PI/4,s),m=p(this,x,v).call(this,r,-3*Math.PI/4,s);return d.moveTo(c.x,c.y),d.lineTo(m.x,m.y),d.strokeStyle=t,d.lineJoin="round",d.lineWidth=e*s,d.stroke(),[u,l,c,m].forEach(({x:C,y:n})=>{d.fillStyle=t,d.beginPath(),d.arc(C,n,e*s/2,0,Math.PI*2),d.fill()}),h},v=function(i,t,e){const r=i*Math.cos(t),s=i*Math.sin(t);return{x:(r+i)*e,y:(s+i)*e}};class nt{currentGuitarChords=null;renderChord(t,e,r=!0){this.currentGuitarChords&&t.removeChild(this.currentGuitarChords.element),this.currentGuitarChords=new rt({name:r?e.name:"",showFingerNumber:!1,mergeFingerCircle:!0,notesOutsideOfChords:e.notesOutsideOfChords,matrix:e.matrix,startFrets:e.startFrets,nameFontSize:40,fretsSpacing:40,fingerRadius:10}),t.appendChild(this.currentGuitarChords.element)}}export{nt as C,st as g};
